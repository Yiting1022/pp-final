[1/2] Running GPU pipeline (build + calibrate + price)...
[1/3] Calibrating GBM parameters from market data...
[calibrate] Wrote parameters to params.sh
   export S0_SINGLE=271.8399963378906
   export SIGMA_SINGLE=0.31828351910107566
   export S0_MULTI=358.5787525177002
   export SIGMA_MULTI=0.4062967486134916
   export RHO_MULTI=0.5173016139628016

[2/3] Building CUDA pricer targets (shared mc_pricer core)...
make: Nothing to be done for 'all'.

[3/3] Running pricing examples with calibrated parameters...

-- european_pricer (single-asset European call) --
EuropeanCall GPU MC
S0=271.839996 K=271.839996 r=0.050000 sigma=0.318284 T=1.000000 paths=1000000
price=40.505603  std_error=0.065325  time_ms=0.767900
BS_analytic=40.572282 (for comparison)

-- asian_pricer (single-asset Asian arithmetic call) --
AsianArithmeticCall GPU MC
S0=271.839996 K=271.839996 r=0.050000 sigma=0.318284 T=1.000000 steps=252 paths=1000000
price=22.774271  std_error=0.034914  time_ms=10.165468

-- basket_pricer (multi-asset basket European call) --
BasketEuropeanCall GPU MC
S0=358.578753 K=358.578753 r=0.050000 sigma=0.406297 T=1.000000 steps=252 assets=8 rho=0.517302 paths=500000
price=52.389151  std_error=0.118528  time_ms=49.133262

-- multiasset_pricer (fixed 8-asset basket European call) --
MultiAsset (8-asset) BasketEuropeanCall GPU MC
S0=358.578753 K=358.578753 r=0.050000 sigma=0.406297 T=1.000000 steps=252 assets=8 rho=0.517302 paths=500000
price=52.262412  std_error=0.118073  time_ms=49.198531

-- multi_gpu_basket_pricer (multi-GPU basket European call) --
MultiGPU BasketEuropeanCall GPU MC
devices=1 total_paths=500000
S0=358.578753 K=358.578753 r=0.050000 sigma=0.406297 T=1.000000 steps=252 assets=8 rho=0.517302
price=52.243920  std_error=0.117987  time_ms=49.102747

All runs finished.

[2/2] Running CPU pipeline (build + calibrate + price)...
[1/3] Calibrating GBM parameters from market data...
[calibrate] Wrote parameters to params.sh
   export S0_SINGLE=271.8399963378906
   export SIGMA_SINGLE=0.31828351910107566
   export S0_MULTI=358.5787525177002
   export SIGMA_MULTI=0.4062967486134916
   export RHO_MULTI=0.5173016139628016

[2/3] Building CPU OpenMP mc_pricer...
make: Nothing to be done for 'all'.

[3/3] Running CPU OpenMP baselines with calibrated parameters...

-- European (CPU OpenMP) --
EuropeanCall CPU MC (OpenMP)
S0=271.839996 K=271.839996 r=0.050000 sigma=0.318284 T=1.000000 paths=1000000
price=40.598320  std_error=0.065520  time_ms=1.890497
BS_analytic=40.572282 (for comparison)

-- Asian (CPU OpenMP) --
AsianArithmeticCall CPU MC (OpenMP)
S0=271.839996 K=271.839996 r=0.050000 sigma=0.318284 T=1.000000 steps=252 paths=1000000
price=22.747924  std_error=0.034931  time_ms=351.533878

-- Basket (CPU OpenMP, configurable assets) --
BasketEuropeanCall CPU MC (OpenMP)
S0=358.578753 K=358.578753 r=0.050000 sigma=0.406297 T=1.000000 steps=252 assets=4 rho=0.517302 paths=500000
price=54.389253  std_error=0.124840  time_ms=686.394893

-- Multi-asset (CPU OpenMP, fixed 8 assets) --
BasketEuropeanCall CPU MC (OpenMP)
S0=358.578753 K=358.578753 r=0.050000 sigma=0.406297 T=1.000000 steps=252 assets=8 rho=0.517302 paths=500000
price=52.156504  std_error=0.118003  time_ms=1351.197969

All CPU runs finished.

All CPU/GPU runs finished.
